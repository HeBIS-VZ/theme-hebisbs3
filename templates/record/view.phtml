<?
// Set up standard record scripts:
$this->headScript()->appendFile("record.js");
$this->headScript()->appendFile("check_save_statuses.js");
// Activate Syndetics Plus if necessary:
if ($this->syndeticsPlus()->isActive()) {
    echo $this->headScript()->appendFile($this->syndeticsPlus()->getScript());
}

// Add RDF header link if applicable:
if ($this->export()->recordSupportsFormat($this->driver, 'RDF')) {
    $this->headLink()->appendAlternate($this->recordLink()->getActionUrl($this->driver, 'RDF'), 'application/rdf+xml', 'RDF Representation');
}

// Set up breadcrumbs:
$this->layout()->breadcrumbs = '<li>' . /*$this->getLastSearchLink($this->transEsc('Search'), '', '</li> ')*/'' .
    '<li class="active">' . $this->recordLink()->getBreadcrumb($this->driver) . '</li> ';
$this->layout()->title = $this->driver->getShortTitle();
?>

<? if (isset($this->scrollData) && ($this->scrollData['previousRecord'] || $this->scrollData['nextRecord'])): ?>
    <ul class="pager hidden-print">
        <? if ($this->scrollData['previousRecord']): ?>
            <li>
                <a href="<?= $this->recordLink()->getUrl($this->scrollData['previousRecord']) ?>"
                   title="<?= $this->transEsc('Previous Search Result') ?>">&laquo; <?= $this->transEsc('Prev') ?></a>
            </li>
        <? else: ?>
            <li class="disabled"><a href="#">&laquo; <?= $this->transEsc('Prev') ?></a></li>
        <? endif; ?>
        #<?= $this->localizedNumber($this->scrollData['currentPosition']) . ' ' . $this->transEsc('of') . ' ' . $this->localizedNumber($this->scrollData['resultTotal']) . ' ' . $this->transEsc('results') ?>
        <? if ($this->scrollData['nextRecord']): ?>
            <li>
                <a href="<?= $this->recordLink()->getUrl($this->scrollData['nextRecord']) ?>"
                   title="<?= $this->transEsc('Next Search Result') ?>"><?= $this->transEsc('Next') ?> &raquo;</a>
            </li>
        <? else: ?>
            <li class="disabled"><a href="#"><?= $this->transEsc('Next') ?> &raquo;</a></li>
        <? endif; ?>
    </ul>
<? endif; ?>

<!-- <div class="row"> -->
    <div class="view-record">
        <div class="record recordId source<?= $this->escapeHtmlAttr($this->driver->getResourceSource()) ?>" id="record">
            <input type="hidden" value="<?= $this->escapeHtmlAttr($this->driver->getUniqueId()) ?>" class="hiddenId"
                   id="record_id"/>
            <input type="hidden" value="<?= $this->escapeHtmlAttr($this->driver->getResourceSource()) ?>"
                   class="hiddenSource"/>
            <?= $this->flashmessages() ?>
            <?= $this->record($this->driver)->getCoreMetadata() ?>
        </div>


    </div>

<!-- </div> -->
