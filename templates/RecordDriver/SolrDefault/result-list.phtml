<!-- <table class="table-condensed" style="width:100%"> -->
    <div class="row result-list-item <?= $this->driver->supportsAjaxStatus() ? 'ajaxItem ' : '' ?>">
        <div class="hidden-xs col-md-2 text-center title-thumb">
            <input type="hidden" value="<?= $this->escapeHtmlAttr($this->driver->getUniqueID()) ?>" class="hiddenId"/>
            <input type="hidden" value="<?= $this->escapeHtmlAttr($this->driver->getResourceSource()) ?>"
                   class="hiddenSource"/>

            <a href="<?= $this->recordLink()->getUrl($this->driver) ?>">
                <? if ($summThumb = $this->record($this->driver)->getThumbnail()): ?>
                    <img class="img-responsive img-thumbnail recordcover"
                         src="<?= $this->escapeHtmlAttr($summThumb) ?>" alt="<?= $this->transEsc('Cover Image') ?>"/>
                <? else: ?>
                    <img class="img-responsive img-thumbnail recordcover"
                         src="<?= $this->url('cover-unavailable') ?>" alt="<?= $this->transEsc('No Cover Image') ?>"/>
                <? endif; ?>
            </a>
        </div>
        <div class="col-md-7 title">
            <div>
                <a href="<?= $this->recordLink()->getUrl($this->driver) ?>" class="title">
                    <?
                    /*
                    $summHighlightedTitle = $this->driver->getHighlightedTitle();
                    $summTitle = $this->driver->getTitle();
                    if (!empty($summHighlightedTitle)) {
                        echo $this->highlight($this->addEllipsis($summHighlightedTitle, $summTitle));
                    } else if (!empty($summTitle)) {
                        echo $this->escapeHtml($this->truncate($summTitle, 180));
                    } else {
                        echo $this->transEsc('Title not available');
                    }*/

                    $title = $this->resultListTitleStatement($this->driver);
                    if (!empty($title)) {
                        echo $title;
                    } else {
                        echo $this->transEsc('Title not available');
                    }
                    ?>
                </a>
            </div>
            <? $author = $this->resultListPersonalName($this->driver); ?>
            <? if (!empty($author)) : ?>
                <div class="author">
                    <?= $author ?>
                </div>
            <? endif; ?>
            <? $corporation = $this->resultListCorporateName($this->driver); ?>
            <div class="author">
                <?= $corporation ?>
            </div>
            <?php
                $edition = $this->resultListEditionStatement($this->driver);
                $hostItem = $this->resultListHostItemEntry($this->driver);
                $publicationDistribution = $this->resultListOWPublicationDistribution($this->driver);
            ?>

            <? if (!empty($edition)) : ?>
                <div class="edition">
                    <?= $edition ?>
                </div>
            <? endif; ?>
            <?  if (!empty($hostItem)) : ?>
                <div class="host-item">
                    <?= $hostItem ?>
                </div>
            <? endif; ?>
            <? if (!empty($publicationDistribution)) : ?>
                <div class="distribution">
                    <?= $publicationDistribution ?>
                </div>
            <? else: ?>
                $publicationDistribution = $this->resultListPublicationDistribution($this->driver);
                <? if (!empty($publicationDistribution)) : ?>
                    <div class="distribution">
                        <?= $publicationDistribution ?>
                    </div>
                <? endif; ?>
            <? endif; ?>
            <!--
            <div>
                <? if ($this->driver->isCollection()): ?>
                    <?= implode('<br>', array_map(array($this, 'escapeHtml'), $this->driver->getSummary())); ?>
                <? else: ?>
                    <? $summAuthors = $this->driver->getPrimaryAuthorsWithHighlighting(); ?>
                    <? if (!empty($summAuthors)): ?>
                        <?=$this->transEsc('by')?>
                        <? $authorCount = count($summAuthors); ?>
                        <? foreach ($summAuthors as $i => $summAuthor): ?>
                            <a href="<?=$this->record($this->driver)->getLink('author', $this->highlight($summAuthor, null, true, false))?>"><?=$this->highlight($summAuthor)?></a><?=$i + 1 < $authorCount ? ',' : ''?>
                        <? endforeach; ?>
                    <? endif; ?>

                    <? $edition = $this->driver->getEdition();
                    if (!empty($edition)): ?>
                        <p><?= $this->escapeHtml($edition) ?></p>
                    <? endif; ?>

                    <? $publications = $this->driver->getPlacesOfPublication();
                    if (!empty($publications)): ?>
                        <? foreach ($publications as $pub): ?>
                            <p><?= $pub[0] ?><? if (!empty($pub[1])): ?>. - <?= $this->escapeHtml($pub[1]) ?><? endif; ?></p>
                            <? break; ?>
                        <? endforeach; ?><br/>
                    <? endif; ?>

                    <? $journalTitle = $this->driver->getContainerTitle();
                    $summDate = $this->driver->getPublicationDates(); ?>
                    <? if (!empty($journalTitle)): ?>
                        <?= !empty($summAuthor) ? '<br />' : '' ?>
                        <?= $this->transEsc('Published in') ?>
                        <? $containerID = $this->driver->getContainerRecordID(); ?>
                        <? /* TODO: handle highlighting more elegantly here: */ ?>
                        <a href="<?= ($containerID ? $this->recordLink()->getUrl("VuFind|$containerID") : $this->record($this->driver)->getLink('journaltitle', str_replace(array('{{{{START_HILITE}}}}', '{{{{END_HILITE}}}}'), '', $journalTitle))) ?>"><?= $this->highlight($journalTitle) ?></a>
                        <?= !empty($summDate) ? ' (' . $this->escapeHtml($summDate[0]) . ')' : '' ?>
                    <? elseif (!empty($summDate)): ?>
                        <?= !empty($summAuthor) ? '<br />' : '' ?>
                        <?= $this->transEsc('Published') . ' ' . $this->escapeHtml($summDate[0]) ?>
                    <? endif; ?>
                    <? $summInCollection = $this->driver->getContainingCollections();
                    if (!empty($summInCollection)): ?>
                        <? foreach ($summInCollection as $collId => $collText): ?>
                            <div>
                                <b><?= $this->transEsc("in_collection_label") ?></b>
                                <a class="collectionLinkText"
                                   href="<?= $this->url('collection', array('id' => $collId)) ?>?recordID=<?= urlencode($this->driver->getUniqueID()) ?>">
                                    <?= $this->escapeHtml($collText) ?>
                                </a>
                            </div>
                        <? endforeach; ?>
                    <? endif; ?>
                <? endif; ?>
            </div>

            <? if (!$this->driver->isCollection()): ?>
                <? if ($snippet = $this->driver->getHighlightedSnippet()): ?>
                    <? if (!empty($snippet['caption'])): ?>
                        <strong><?= $this->transEsc($snippet['caption']) ?>:</strong> ';
                    <? endif; ?>
                    <? if (!empty($snippet['snippet'])): ?>
                        <span class="quotestart">&#8220;</span>...<?= $this->highlight($snippet['snippet']) ?>...<span
                            class="quoteend">&#8221;</span><br/>
                    <? endif; ?>
                <? endif; ?>
            <? endif; ?>

            <?
            /* Display information on duplicate records if available */
            $dedupData = $this->driver->getDedupData();
            if ($dedupData): ?>
                <div class="dedupInformation">
                    <?
                    $i = 0;
                    foreach ($dedupData as $source => $current) {
                    if (++$i == 1) {
                        ?><span class="currentSource"><a
                            href="<?= $this->recordLink()->getUrl($this->driver) ?>"><?= $this->transEsc("source_$source", array(), $source) ?></a>
                        </span><?
                    } else {
                    if ($i == 2) {
                    ?> <span class="otherSources">(<?= $this->transEsc('Other Sources') ?>: <?
                        } else {
                            ?>, <?
                        }
                        ?><a
                            href="<?= $this->recordLink()->getUrl($current['id']) ?>"><?= $this->transEsc("source_$source", array(), $source) ?></a><?
                        }
                        }
                        if ($i > 1) {
                        ?>)</span><?
                } ?>
                </div>
            <? endif; ?>
            -->
            <!--  -Call Number and Loading-
      <div class="callnumAndLocation ajax-availability hidden">
        <? if ($this->driver->supportsAjaxStatus()): ?>
          <strong class="hideIfDetailed"><?= $this->transEsc('Call Number') ?>:</strong>
          <span class="callnumber ajax-availability hidden">
            <?= $this->transEsc('Loading') ?>...<br/>
          </span>
          <strong><?= $this->transEsc('Located') ?>:</strong>
          <span class="location ajax-availability hidden">
            <?= $this->transEsc('Loading') ?>...
          </span>
          <div class="locationDetails"></div>
        <? else: ?>
          <? $summCallNo = $this->driver->getCallNumber();
                if (!empty($summCallNo)): ?>
            <strong><?= $this->transEsc('Call Number') ?>:</strong> <?= $this->escapeHtml($summCallNo) ?>
          <? endif; ?>
        <? endif; ?>
      </div>
-->
            <? /* We need to find out if we're supposed to display an OpenURL link ($openUrlActive),
            but even if we don't plan to display the link, we still want to get the $openUrl
            value for use in generating a COinS (Z3988) tag -- see bottom of file.

        $openUrl = $this->driver->getOpenURL();
        $openUrlActive = $this->driver->openURLActive('results');
        */
            /*
            $urls = $this->record($this->driver)->getLinkDetails();
            if (!empty($urls)): ?>
                <? if (!is_array($urls)) $urls = array();
                $i = 0;
                if (!$this->driver->isCollection()):
                    foreach ($urls as $current): ?>
                        <a href="<?= $this->escapeHtmlAttr($this->proxyUrl($current['url'])) ?>" class="fulltext" target="new">
                            <span class="fa fa-external-link"></span>
                            <?= ($current['url'] == $current['desc']) ? $this->transEsc('Get full text') : $this->escapeHtml($current['desc']) ?>
                        </a>
                        <? if ($i++ < count($urls)-1) { echo "; "; } ?>
                    <? endforeach; ?>
                    <br/>
                <? endif; ?>
            <? endif; */?>

            <? $physType = $this->physicalDescriptionFormat($this->driver); ?>
            <span class="label label-info"><span class="icon hds-icon-<?=$physType?>"><!-- --></span> <?=$this->transEsc($physType);?></span>

            <?
            /*
            if (!$openUrlActive && empty($urls) && $this->driver->supportsAjaxStatus()): ?>
              <span class="status ajax-availability hidden">
                <span class="label label-default"><?=$this->transEsc('Loading')?>...</span>
              </span>
            <? endif;
            */ ?>
            <?= $this->record($this->driver)->getPreviews() ?>
        </div>
        <div class="col-sm-3 hidden-print">
            <? /* Display qrcode if appropriate: */ ?>
            <? if ($QRCode = $this->record($this->driver)->getQRCode("results")): ?>
                <?
                // Add JS Variables for QrCode
                $this->jsTranslations()->addStrings(array('qrcode_hide' => 'qrcode_hide', 'qrcode_show' => 'qrcode_show'));
                ?>
                <span class="hidden-xs">
          <i class="fa fa-qrcode"></i> <a href="<?= $this->escapeHtmlAttr($QRCode); ?>"
                                          class="qrcodeLink"><?= $this->transEsc('qrcode_show') ?></a>
          <div class="qrcode hidden">
              <script type="text/template" class="qrCodeImgTag">
                  <img alt="<?= $this->transEsc('QR Code') ?>" src="<?= $this->escapeHtmlAttr($QRCode); ?>"/>
              </script>
          </div><br/>
        </span>
            <? endif; ?>

            <? if ($this->userlist()->getMode() !== 'disabled'): ?>
                <? /* Add to favorites */ ?>
                <span class="hds-icon-star-empty" aria-hidden="true"><!-- --></span>  <a href="<?=$this->recordLink()->getActionUrl($this->driver, 'Save')?>" data-lightbox class="save-record" data-id="<?=$this->escapeHtmlAttr($this->driver->getUniqueId()) ?>"><?=$this->transEsc('Add to favorites')?></a><br/>
                <br/>

                <? /* Saved lists */ ?>
                <div class="savedLists alert alert-info hidden">
                    <strong><?= $this->transEsc("Saved in") ?>:</strong>
                </div>
            <? endif; ?>

            <? /* Hierarchy tree link */ ?>
            <? $trees = $this->driver->tryMethod('getHierarchyTrees');
            if (!empty($trees)): ?>
                <? foreach ($trees as $hierarchyID => $hierarchyTitle): ?>
                    <div class="hierarchyTreeLink">
                        <input type="hidden" value="<?= $this->escapeHtmlAttr($hierarchyID) ?>"
                               class="hiddenHierarchyId"/>
                        <i class="fa fa-sitemap"></i>
                        <a class="hierarchyTreeLinkText modal-link"
                           href="<?= $this->recordLink()->getTabUrl($this->driver, 'HierarchyTree') ?>?hierarchy=<?= urlencode($hierarchyID) ?>#tabnav"
                           title="<?= $this->transEsc('hierarchy_tree') ?>">
                            <?= $this->transEsc('hierarchy_view_context') ?><? if (count($trees) > 1): ?>: <?= $this->escapeHtml($hierarchyTitle) ?><? endif; ?>
                        </a>
                    </div>
                <? endforeach; ?>
            <? endif; ?>

        </div>
    </div>
<!-- </table> -->